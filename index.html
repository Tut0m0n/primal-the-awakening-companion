<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Primal Companion</title>

  <!-- Anti-cache -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css?v=1.0.0" />
</head>
<body>

  <!-- AUDIO INTRO -->
  <audio id="intro-music" loop>
    <source src="assets/audio/intro.mp3" type="audio/mpeg">
  </audio>

  <!-- BOTÃ“N MUTE -->
  <button id="btn-mute" class="btn btn-mute" onclick="toggleMusic()">ðŸ”Š</button>

  <!-- BOTÃ“N GUARDAR / SALIR -->
  <button id="btn-save-exit" class="btn btn-save-exit hidden" onclick="saveAndExit()">
    ðŸ’¾ Guardar / Salir
  </button>

  <!-- EXPORT / IMPORT JSON -->
  <div id="json-controls" class="hidden">
    <button class="btn" onclick="exportJSON()">ðŸ“¤ Exportar</button>
    <button class="btn" onclick="importJSON()">ðŸ“¥ Importar</button>
  </div>

  <!-- ============================= -->
  <!-- PANTALLA INICIO -->
  <!-- ============================= -->
  <div id="screen-start" class="screen active">

    <img src="assets/images/LOGO.png" class="logo" alt="Primal The Awakening">

    <div id="enter-container">
      <button class="btn btn-start" onclick="showMainMenu()">ENTRAR</button>
    </div>

    <!-- MENÃš PRINCIPAL -->
    <div id="main-menu" class="hidden">

      <div class="menu-buttons">
        <button class="btn menu-btn" onclick="showNewGame()">âž• Nueva Partida</button>
        <button class="btn menu-btn" onclick="showSavedGames()">ðŸ’¾ Cargar Partida</button>
      </div>

      <!-- NUEVA PARTIDA -->
      <div id="new-game-container" class="hidden">
        <h2>Nueva Partida</h2>

        <input
          id="new-save-name"
          class="name-input"
          placeholder="Nombre de la partida"
        />

        <div class="nav-buttons">
          <button class="btn" onclick="confirmNewGame()">ðŸ’¾ Guardar</button>
          <button class="btn red" onclick="cancelNewGame()">Cancelar</button>
        </div>
      </div>

      <!-- CARGAR PARTIDA -->
      <div id="save-list-container" class="hidden">
        <h2>Partidas Guardadas</h2>
        <div id="save-list"></div>

        <div class="nav-buttons">
          <button class="btn red" onclick="goBackToMainMenu()">â¬… Volver</button>
        </div>
      </div>

    </div>
  </div>

  <!-- ============================= -->
  <!-- CAMPAÃ‘A -->
  <!-- ============================= -->
  <div id="screen-campaign" class="screen">
    <h1>Â¿QuÃ© campaÃ±a deseas jugar?</h1>

    <div class="player-grid">
      <div class="player-card" onclick="selectCampaign('normal')">
        CAMPAÃ‘A NORMAL
      </div>
      <div class="player-card disabled-mode">
        MOUNT HAVOC<br><small>(Pronto)</small>
      </div>
    </div>

    <div class="nav-buttons">
      <button class="btn red" onclick="goBackToMainMenu()">â¬… Volver</button>
    </div>
  </div>

  <!-- ============================= -->
  <!-- JUGADORES -->
  <!-- ============================= -->
  <div id="screen-players" class="screen">
    <h1>Cantidad de jugadores</h1>

    <div class="player-grid">
      <div class="player-card" onclick="selectPlayers(1)">SOLO</div>
      <div class="player-card" onclick="selectPlayers(2)">2</div>
      <div class="player-card" onclick="selectPlayers(3)">3</div>
      <div class="player-card" onclick="selectPlayers(4)">4</div>
      <div class="player-card" onclick="selectPlayers(5)">5</div>
    </div>

    <div class="nav-buttons">
      <button class="btn red" onclick="goBackToCampaign()">â¬… Volver</button>
    </div>
  </div>

  <!-- ============================= -->
  <!-- PERSONAJES -->
  <!-- ============================= -->
  <div id="screen-characters" class="screen">
    <h1>Selecciona personajes</h1>
    <p id="selected-count">Seleccionados: 0 / 0</p>

    <div class="character-grid">
      <button class="character-btn" onclick="toggleCharacter('DAREON')">
        DAREON<br><small>Espada 2 manos</small>
      </button>
      <button class="character-btn" onclick="toggleCharacter('LJONAR')">
        LJONAR<br><small>Espada y Escudo</small>
      </button>
      <button class="character-btn" onclick="toggleCharacter('THOREG')">
        THOREG<br><small>Martillo</small>
      </button>
      <button class="character-btn" onclick="toggleCharacter('MIRAH')">
        MIRAH<br><small>Arco</small>
      </button>
      <button class="character-btn" onclick="toggleCharacter('HELEREN')">
        HELEREN<br><small>Arco y RevÃ³lver</small>
      </button>
      <button class="character-btn" onclick="toggleCharacter('KARAH')">
        KARAH<br><small>Espadas duales</small>
      </button>
    </div>

    <div class="nav-buttons">
      <button id="btn-confirm" class="btn disabled" disabled>
        Continuar
      </button>
      <button class="btn red" onclick="goBackToPlayers()">â¬… Volver</button>
    </div>
  </div>

  <!-- ============================= -->
  <!-- NOMBRES -->
  <!-- ============================= -->
  <div id="screen-names" class="screen">
    <h1>Nombres de jugadores</h1>
    <div id="names-container"></div>

    <div class="nav-buttons">
      <button id="btn-names-continue" class="btn disabled" disabled>
        Continuar
      </button>
      <button class="btn red" onclick="goBackToCharacters()">â¬… Volver</button>
    </div>
  </div>

  <!-- ============================= -->
  <!-- DIFICULTAD -->
  <!-- ============================= -->
  <div id="screen-difficulty" class="screen">
    <h1>Dificultad</h1>

    <div class="player-grid">
      <div class="player-card" onclick="selectDifficulty('normal')">
        NORMAL
      </div>
      <div class="player-card" onclick="selectDifficulty('pesadilla')">
        PESADILLA
      </div>
    </div>

    <div class="nav-buttons">
      <button id="btn-difficulty-continue" class="btn disabled" disabled>
        Continuar
      </button>
      <button class="btn red" onclick="goBackToNames()">â¬… Volver</button>
    </div>
  </div>

  <!-- ============================= -->
  <!-- PRÃ“LOGO -->
  <!-- ============================= -->
  <div id="screen-prologue" class="screen">
    <h1>PrÃ³logo de campaÃ±a</h1>
    <p id="prologue-text">(Texto del prÃ³logo irÃ¡ aquÃ­)</p>
  </div>

  <!-- JS -->
  <script src="main.js?v=1.0.0"></script>
</body>
</html>
